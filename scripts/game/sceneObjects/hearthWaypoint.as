package scripts.game.sceneObjects{	import flash.display.MovieClip;	import flash.events.*;	import flash.display.Stage;	import flash.geom.Point;	import flash.display.BitmapData;	import flash.geom.Rectangle;	//	public class hearthWaypoint extends MovieClip {		private var pRoot:Object = null;		private var pRoomObj:Object = null;		private var pState:int = 1;		private var x1:int = 0;		private var y1:int = 0;		private var pName:String = "hwp_0";		private var pDestination:String = "";		private var pCycle:int = 0;		private var pRoll:Boolean = false;		//		public function hearthWaypoint():void {			trace("hearthWaypoint");			this.visible = false;		}		//		public function init(vRoot:Object, vRoomObj:Object, vLayer:Object, pSwfTarget):void {			//trace("waypoint: init" + vRoomObj);			pRoot = vRoot;			pRoomObj = vRoomObj;			pName = this.name;			var vNameArray:Array = pName.split("_");			pDestination = vNameArray[1];			x1 = this.x;			y1 = this.y;		}		//		public function enterframe():void {			if (pRoomObj && pRoot.pMyAvatar) {				var x2 = pRoot.pMyAvatar.x1;				var y2 = pRoot.pMyAvatar.y1;				var distX:int = Math.abs(x2-x1);				var distY:int = Math.abs(y2-y1);				if (distX<30 && distY<30) {					rollin();					pCycle++;					if (pCycle > 60) {						doJump();						deleteMe();					}				} else {					pCycle = 0;					rollout();				}			}		}		//		private function rollin():void {			this.visible = true;			if (! pRoll) {				pRoll = true;			}		}		//		private function rollout():void {			this.visible = false;			if (pRoll) {				pRoll = false;			}		}		//		private function doJump():void {			trace("do jump: " + pDestination);			switch (pDestination) {				case "trove" :					lx = 100 + Math.random() * 100;					ly = 260;					pRoot.loadTrove();					break;				case "meadow1" :					lx = 100 + Math.random() * 100;					ly = 260;					pRoot.loadSideScrollScene("meadow1", lx, ly);					break;				case "luminarium" :					lx = 200 + Math.random() * 100;					ly = 700;					pRoot.loadSideScrollScene("luminarium", lx, ly);					break;				case "universarium" :					lx = 200 + Math.random() * 100;					ly = 200;					pRoot.loadSideScrollScene("universe1", lx, ly);					break;				case "dorm" :					lx = 100 + Math.random() * 100;					ly = 410;					pRoot.loadSideScrollScene("dorm", lx, ly);					break;			}			deleteMe();		}		//		public function deleteMe():void {			if (pRoot) {				trace("waypoint: deleteMe");				pRoot = null;				pRoomObj = null;				pState = 0;			}		}		//	}}//