package scripts.game.sceneObjects{	import flash.display.MovieClip;	import flash.events.*;	import flash.display.Stage;	import flash.geom.Point;	import flash.display.BitmapData;	import flash.geom.Rectangle;	//	public class waypointRoomJump extends MovieClip {		private var pRoot:Object = null;		private var pRoomObj:Object = null;		private var pState:int = 1;		private var x1:int = 0;		private var y1:int = 0;		private var x2:int = 0;		private var y2:int = 0;		private var pName:String = "hwp_0";		private var pDestination:String = "";		private var pCycle:int = 0;		private var pRoll:Boolean = false;		//		public function waypointRoomJump():void {			trace("hearthWaypoint");			this.visible = false;		}		//		public function init(vRoot:Object, vRoomObj:Object, vLayer:Object, pSwfTarget):void {			//trace("waypoint: init" + vRoomObj);			pRoot = vRoot;			pRoomObj = vRoomObj;			pName = this.name;			var vNameArray:Array = pName.split("_");			pDestination = vNameArray[1];			x1 = this.x;			y1 = this.y;			x2 = parseInt(vNameArray[2]);			y2 = parseInt(vNameArray[3]);		}		//		public function enterframe():void {			if (pRoomObj && pRoot.pMyAvatar) {				var x2 = pRoot.pMyAvatar.x1;				var y2 = pRoot.pMyAvatar.y1;				var distX:int = Math.abs(x2-x1);				var distY:int = Math.abs(y2-y1);				if (distX<70 && distY<70) {					pCycle++;					if (pCycle > 60) {						doJump();						deleteMe();					}				} else {					pCycle = 0;				}			}		}		//		private function doJump():void {			trace("do jump: " + pDestination);			switch (pDestination) {				case "map" :					pRoot.wayPointJump(pDestination, "waypoint");					break;				case "hearth" :					lx = x2 + Math.random() * 100;					ly = y2;					pRoot.loadSideScrollScene(pDestination, lx, ly);					break;			}			deleteMe();		}		//		public function deleteMe():void {			if (pRoot) {				trace("waypoint: deleteMe");				pRoot = null;				pRoomObj = null;				pState = 0;			}		}		//	}}//