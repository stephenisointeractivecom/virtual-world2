package scripts.game.spawnObjects{	import flash.display.*;	import scripts.game.particles.levitateParticle;	public class scrollSpawn extends MovieClip {		private var pRoot:Object = null;		private var pRoomObj:Object = null;		private var pId:int = 0;		public var pState:int = 1;		private var pCycle:int = 0;		private var pType:int = 1;		private var x0:int = 0;		private var y0:int = 0;		public var x1:Number = 0;		public var y1:Number = 0;		private var dx:Number = 0;		private var dy:Number = 0;		public function scrollSpawn():void {			return;		}		//		public function init(vRoot:Object, vRoomObj:Object, vId:int, vType:int):void {			pRoot = vRoot;			pRoomObj = vRoomObj;			pId = vId;			pType = vType;			pState = 1;			x0 = this.x;			y0 = this.y;			x1 = x0 + 3 + pRoot.rand() * 6;			y1 = y0 + 3 + pRoot.rand() * 6;			this.x = x1;			this.y = y1;			var _loc_8:* = ["red","green","blue"];			gotoAndStop(_loc_8[(vType - 1)]);			dx = pRoot.rand() * 2;			dy = pRoot.rand() * 2;			createParticles();		}		private function createParticles():void {			//trace ("scroll: createParticles");			var obj:Object = null;			var lx:int = 0;			for (var i = 0; i<15; i++) {				obj = new levitateParticle();				obj.name = "scrp" + pId + "_" + i;				pRoomObj.pL3Interactive.addChild(obj);				obj.init(pRoot, pRoomObj, this);			}		}		//		public function enterframe():void {			var onScreen:Boolean = pRoomObj.pointOnScreen(x1,y1);			if (onScreen) {				if (pRoot.pMyAvatar && pState != -1) {					this.visible = true;					levitate();					waitForCapture();				}			} else {				this.visible = false;			}		}		//		private function levitate():void {			x1 = x1 + dx;			y1 = y1 + dy;			if (x1 > this.x0) {				dx = dx - 0.05;			} else {				dx = dx + 0.05;			}			if (y1 > this.y0) {				dy = dy - 0.05;			} else {				dy = dy + 0.05;			}			this.x = x1;			this.y = y1;		}		//		private function waitForCapture():void {			if (pRoot.gIsGuest) {				return;			}			pCycle++;			if (pCycle > 10) {				pCycle = 0;				var lx1:int = pRoot.pMyAvatar.x1;				var ly1:int = pRoot.pMyAvatar.y1;				var distx:int = Math.abs(x0- lx1);				var disty:int= Math.abs(y0- ly1);				if (distx < 20 && disty < 30) {					pRoot.claimScroll(pId);					deleteMe();				}			}		}		//		public function deleteMe():void {			if (pState != -1) {				pState = -1;				pRoot = null;				pRoomObj = null;				pAvatar = null;				parent.removeChild(this);			}		}		//	}}